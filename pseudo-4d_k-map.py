
minterms = []
dont_care = []

minterms_txt = input('Name of your minterms file: ')

if len(minterms_txt) < 5 or minterms_txt[-4:] != '.txt':
    minterms_txt += '.txt'

# input minterms
with open('./' + minterms_txt, 'r') as fp:
    minterms = [ int(x) for x in fp.read().split(', ')[0:-1] ]

print('')
dont_care_txt = input('Name of your dont care file: ')

if len(dont_care_txt) < 5 or dont_care_txt[-4:] != '.txt':
    dont_care_txt += '.txt'

# input don't care
with open('./' + dont_care_txt, 'r') as fp:
    dont_care = [ int(x) for x in fp.read().split(', ')[0:-1] ]

print('')

# print(minterms)
# print(dont_care)

'''
 \cd  00      01        11      10          ef       \cd  00      01        11      10          ef
ab   *------/ *------/  *-----/ *------/            ab   *------/ *------/  *-----/ *------/
   ++==================================++              ++==================================++
00 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   00 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01  
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++===+===XX===+===XX===+===XX===+===++              ++===+===XX===+===XX===+===XX===+===++
01 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   01 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++===+===XX===+===XX===+===XX===+===++              ++===+===XX===+===XX===+===XX===+===++
11 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   11 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++===+===XX===+===XX===+===XX===+===++              ++===+===XX===+===XX===+===XX===+===++
10 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   10 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++==================================++              ++==================================++

gh = 00                                             gh = 01

 \cd  00      01        11      10          ef       \cd  00      01        11      10          ef
ab   *------/ *------/  *-----/ *------/            ab   *------/ *------/  *-----/ *------/
   ++==================================++              ++==================================++
00 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   00 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++===+===XX===+===XX===+===XX===+===++              ++===+===//===+===//===+===//===+===++
01 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   01 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++===+===XX===+===XX===+===XX===+===++              ++===+===XX===+===XX===+===XX===+===++
11 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   11 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++===+===XX===+===XX===+===XX===+===++              ++===+===XX===+===XX===+===XX===+===++
10 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01   10 || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 00 | 01
   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---
   || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11      || 1 | 1 // 1 | 1 // 1 | 1 // 1 | 1 || 10 | 11
   ++==================================++              ++==================================++

gh = 10                                             gh = 11
'''

# 4d k-map = 256
kmap_4d = []

# create 4d representation
for i in range(4):
    kmap_4d.append([])
    for j in range(4):
        kmap_4d[i].append([])
        for k in range(4):
            kmap_4d[i][j].append([])
            for l in range(4):
                kmap_4d[i][j][k].append(0)

for i in range(256):
    if i in minterms:
        kmap_4d[(i >> 6) & 3][(i >> 4) & 3][(i >> 2) & 3][i & 3] = 1
        minterms = minterms[1:]
    elif i in dont_care:
        kmap_4d[(i >> 6) & 3][(i >> 4) & 3][(i >> 2) & 3][i & 3] = 'X'
        dont_care = dont_care[1:]

print(kmap_4d)

pattern = [0, 1, 3, 2]
str_pat = ['00', '01', '10', '11']

print(' \cd  00      01        11      10          ef       \cd  00      01        11      10          ef')
print('ab   *------/ *------/  *-----/ *------/            ab   *------/ *------/  *-----/ *------/')
print('   ++==================================++              ++==================================++')
for ab in pattern:
    print(str_pat[ab] + ' || ', end='')
    for gh in [0, 1]:
        for cd in pattern:
            print(kmap_4d[ab][cd][0][gh], end='')
            print(' | ', end='')
            print(kmap_4d[ab][cd][1][gh], end='')
            if cd != 2:
                print(' // ', end='')
        if gh == 0:
            print(' || 00 | 01   ' + str_pat[ab] + ' || ', end='')
        else:
            print(' || 00 | 01')
    print('   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---')
    print('   || ', end='')
    for gh in [0, 1]:
        for cd in pattern:
            print(kmap_4d[ab][cd][2][gh], end='')
            print(' | ', end='')
            print(kmap_4d[ab][cd][3][gh], end='')
            if cd != 2:
                print(' // ', end='')
        if gh == 0:
            print(' || 10 | 11      || ', end='')
        else:
            print(' || 10 | 11')
    if ab != 2:
        print('   ++===+===XX===+===XX===+===XX===+===++              ++===+===XX===+===XX===+===XX===+===++')
print('   ++==================================++              ++==================================++')
print('')
print('   gh = 00                                             gh = 01')
print('')

print(' \cd  00      01        11      10          ef       \cd  00      01        11      10          ef')
print('ab   *------/ *------/  *-----/ *------/            ab   *------/ *------/  *-----/ *------/')
print('   ++==================================++              ++==================================++')
for ab in pattern:
    print(str_pat[ab] + ' || ', end='')
    for gh in [2, 3]:
        for cd in pattern:
            print(kmap_4d[ab][cd][0][gh], end='')
            print(' | ', end='')
            print(kmap_4d[ab][cd][1][gh], end='')
            if cd != 2:
                print(' // ', end='')
        if gh == 2:
            print(' || 00 | 01   ' + str_pat[ab] + ' || ', end='')
        else:
            print(' || 00 | 01')
    print('   ++---+---//---+---//---+---//---+---|| ---+---      ++---+---//---+---//---+---//---+---|| ---+---')
    print('   || ', end='')
    for gh in [2, 3]:
        for cd in pattern:
            print(kmap_4d[ab][cd][2][gh], end='')
            print(' | ', end='')
            print(kmap_4d[ab][cd][3][gh], end='')
            if cd != 2:
                print(' // ', end='')
        if gh == 2:
            print(' || 10 | 11      || ', end='')
        else:
            print(' || 10 | 11')
    if ab != 2:
        print('   ++===+===XX===+===XX===+===XX===+===++              ++===+===XX===+===XX===+===XX===+===++')
print('   ++==================================++              ++==================================++')
print('')
print('   gh = 10                                             gh = 11')
print('')